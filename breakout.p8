pico-8 cartridge // http://www.pico-8.com
version 33
__lua__
ball_x=10
ball_y=50
ball_d_x=2
ball_d_y=2
ball_r=2

pad_x=52
pad_y=120
pad_w=26
pad_h=3
pad_v=0

function _init()
	cls()
end

function move_ball()
	ball_x+=ball_d_x
	ball_y+=ball_d_y
	if ball_x<0 or ball_x>127 then
		ball_d_x=-ball_d_x
		sfx(0)
	end
	if ball_y<0 or ball_y>127 then
		ball_d_y=-ball_d_y
		sfx(0)
	end
end

function move_pad()
	if btn(⬅️) then
		pad_v=-4
	elseif btn(➡️) then
		pad_v=4
	else
		pad_v/=2
	end
	pad_x+=pad_v
	pad_x=min(pad_x,127-pad_w)
	pad_x=max(pad_x,0)
end

function is_ball_hit(box_x,box_y,box_w,box_h)
	local ball_bottom=ball_y+ball_r
	local ball_top=ball_y-ball_r
	local ball_right=ball_x+ball_r
	local ball_left=ball_x-ball_r
	if(ball_bottom<box_y)return false
	if(ball_top>box_y+box_h)return false
	if(ball_right<box_x)return false
	if(ball_left>box_x+box_w)return false
	return true
end

function _update()
	move_pad()
	move_ball()
	if is_ball_hit(pad_x,pad_y,pad_w,pad_h) then
		ball_d_y=-ball_d_y
		sfx(1)
	end
end

function _draw()
	cls(1)
	circfill(ball_x,ball_y,ball_r,10)
	rectfill(pad_x,pad_y,pad_x+pad_w,pad_y+pad_h,7)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
010100001836018360183501833018320183103130029300283002730026300253002530033300333003330033300333003330033300323003230032300323003230031300313003130031300313003130031300
010100002436024360243502433024320183100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
